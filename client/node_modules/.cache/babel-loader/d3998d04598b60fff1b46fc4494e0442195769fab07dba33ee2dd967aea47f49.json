{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\nfunction useColorDrag(props) {\n  var offset = props.offset,\n    targetRef = props.targetRef,\n    containerRef = props.containerRef,\n    direction = props.direction,\n    onDragChange = props.onDragChange,\n    calculate = props.calculate,\n    color = props.color;\n  var _useState = useState(offset || {\n      x: 0,\n      y: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    offsetValue = _useState2[0],\n    setOffsetValue = _useState2[1];\n  var mouseMoveRef = useRef(null);\n  var mouseUpRef = useRef(null);\n  var dragRef = useRef({\n    flag: false\n  });\n  useEffect(function () {\n    if (dragRef.current.flag === false) {\n      var calcOffset = calculate === null || calculate === void 0 ? void 0 : calculate(containerRef);\n      if (calcOffset) {\n        setOffsetValue(calcOffset);\n      }\n    }\n  }, [color, containerRef]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n      pageX = _getPosition.pageX,\n      pageY = _getPosition.pageY;\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n      rectX = _containerRef$current.x,\n      rectY = _containerRef$current.y,\n      width = _containerRef$current.width,\n      height = _containerRef$current.height;\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n      targetWidth = _targetRef$current$ge.width,\n      targetHeight = _targetRef$current$ge.height;\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    };\n\n    // Exclusion of boundary cases\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n    setOffsetValue(calcOffset);\n    onDragChange === null || onDragChange === void 0 ? void 0 : onDragChange(calcOffset);\n  };\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    dragRef.current.flag = false;\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n  };\n  var onDragStart = function onDragStart(e) {\n    updateOffset(e);\n    dragRef.current.flag = true;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n  return [offsetValue, onDragStart];\n}\nexport default useColorDrag;","map":{"version":3,"names":["_slicedToArray","useEffect","useRef","useState","getPosition","e","obj","touches","scrollXOffset","document","documentElement","scrollLeft","body","window","pageXOffset","scrollYOffset","scrollTop","pageYOffset","pageX","pageY","useColorDrag","props","offset","targetRef","containerRef","direction","onDragChange","calculate","color","_useState","x","y","_useState2","offsetValue","setOffsetValue","mouseMoveRef","mouseUpRef","dragRef","flag","current","calcOffset","removeEventListener","updateOffset","_getPosition","_containerRef$current","getBoundingClientRect","rectX","rectY","width","height","_targetRef$current$ge","targetWidth","targetHeight","centerOffsetX","centerOffsetY","offsetX","Math","max","min","offsetY","onDragMove","preventDefault","onDragStop","onDragStart","addEventListener"],"sources":["C:/Users/wncks/Desktop/OS_tempo/tempo/client/node_modules/@rc-component/color-picker/es/hooks/useColorDrag.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\nfunction useColorDrag(props) {\n  var offset = props.offset,\n    targetRef = props.targetRef,\n    containerRef = props.containerRef,\n    direction = props.direction,\n    onDragChange = props.onDragChange,\n    calculate = props.calculate,\n    color = props.color;\n  var _useState = useState(offset || {\n      x: 0,\n      y: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    offsetValue = _useState2[0],\n    setOffsetValue = _useState2[1];\n  var mouseMoveRef = useRef(null);\n  var mouseUpRef = useRef(null);\n  var dragRef = useRef({\n    flag: false\n  });\n  useEffect(function () {\n    if (dragRef.current.flag === false) {\n      var calcOffset = calculate === null || calculate === void 0 ? void 0 : calculate(containerRef);\n      if (calcOffset) {\n        setOffsetValue(calcOffset);\n      }\n    }\n  }, [color, containerRef]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n      pageX = _getPosition.pageX,\n      pageY = _getPosition.pageY;\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n      rectX = _containerRef$current.x,\n      rectY = _containerRef$current.y,\n      width = _containerRef$current.width,\n      height = _containerRef$current.height;\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n      targetWidth = _targetRef$current$ge.width,\n      targetHeight = _targetRef$current$ge.height;\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    };\n\n    // Exclusion of boundary cases\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n    setOffsetValue(calcOffset);\n    onDragChange === null || onDragChange === void 0 ? void 0 : onDragChange(calcOffset);\n  };\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    dragRef.current.flag = false;\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n  };\n  var onDragStart = function onDragStart(e) {\n    updateOffset(e);\n    dragRef.current.flag = true;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n  return [offsetValue, onDragStart];\n}\nexport default useColorDrag;"],"mappings":"AAAA,OAAOA,cAAc,MAAM,0CAA0C;AACrE,SAASC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,WAAWA,CAACC,CAAC,EAAE;EACtB,IAAIC,GAAG,GAAG,SAAS,IAAID,CAAC,GAAGA,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,GAAGF,CAAC;EAC3C,IAAIG,aAAa,GAAGC,QAAQ,CAACC,eAAe,CAACC,UAAU,IAAIF,QAAQ,CAACG,IAAI,CAACD,UAAU,IAAIE,MAAM,CAACC,WAAW;EACzG,IAAIC,aAAa,GAAGN,QAAQ,CAACC,eAAe,CAACM,SAAS,IAAIP,QAAQ,CAACG,IAAI,CAACI,SAAS,IAAIH,MAAM,CAACI,WAAW;EACvG,OAAO;IACLC,KAAK,EAAEZ,GAAG,CAACY,KAAK,GAAGV,aAAa;IAChCW,KAAK,EAAEb,GAAG,CAACa,KAAK,GAAGJ;EACrB,CAAC;AACH;AACA,SAASK,YAAYA,CAACC,KAAK,EAAE;EAC3B,IAAIC,MAAM,GAAGD,KAAK,CAACC,MAAM;IACvBC,SAAS,GAAGF,KAAK,CAACE,SAAS;IAC3BC,YAAY,GAAGH,KAAK,CAACG,YAAY;IACjCC,SAAS,GAAGJ,KAAK,CAACI,SAAS;IAC3BC,YAAY,GAAGL,KAAK,CAACK,YAAY;IACjCC,SAAS,GAAGN,KAAK,CAACM,SAAS;IAC3BC,KAAK,GAAGP,KAAK,CAACO,KAAK;EACrB,IAAIC,SAAS,GAAG1B,QAAQ,CAACmB,MAAM,IAAI;MAC/BQ,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE;IACL,CAAC,CAAC;IACFC,UAAU,GAAGhC,cAAc,CAAC6B,SAAS,EAAE,CAAC,CAAC;IACzCI,WAAW,GAAGD,UAAU,CAAC,CAAC,CAAC;IAC3BE,cAAc,GAAGF,UAAU,CAAC,CAAC,CAAC;EAChC,IAAIG,YAAY,GAAGjC,MAAM,CAAC,IAAI,CAAC;EAC/B,IAAIkC,UAAU,GAAGlC,MAAM,CAAC,IAAI,CAAC;EAC7B,IAAImC,OAAO,GAAGnC,MAAM,CAAC;IACnBoC,IAAI,EAAE;EACR,CAAC,CAAC;EACFrC,SAAS,CAAC,YAAY;IACpB,IAAIoC,OAAO,CAACE,OAAO,CAACD,IAAI,KAAK,KAAK,EAAE;MAClC,IAAIE,UAAU,GAAGb,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACH,YAAY,CAAC;MAC9F,IAAIgB,UAAU,EAAE;QACdN,cAAc,CAACM,UAAU,CAAC;MAC5B;IACF;EACF,CAAC,EAAE,CAACZ,KAAK,EAAEJ,YAAY,CAAC,CAAC;EACzBvB,SAAS,CAAC,YAAY;IACpB,OAAO,YAAY;MACjBQ,QAAQ,CAACgC,mBAAmB,CAAC,WAAW,EAAEN,YAAY,CAACI,OAAO,CAAC;MAC/D9B,QAAQ,CAACgC,mBAAmB,CAAC,SAAS,EAAEL,UAAU,CAACG,OAAO,CAAC;MAC3D9B,QAAQ,CAACgC,mBAAmB,CAAC,WAAW,EAAEN,YAAY,CAACI,OAAO,CAAC;MAC/D9B,QAAQ,CAACgC,mBAAmB,CAAC,UAAU,EAAEL,UAAU,CAACG,OAAO,CAAC;MAC5DJ,YAAY,CAACI,OAAO,GAAG,IAAI;MAC3BH,UAAU,CAACG,OAAO,GAAG,IAAI;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EACN,IAAIG,YAAY,GAAG,SAASA,YAAYA,CAACrC,CAAC,EAAE;IAC1C,IAAIsC,YAAY,GAAGvC,WAAW,CAACC,CAAC,CAAC;MAC/Ba,KAAK,GAAGyB,YAAY,CAACzB,KAAK;MAC1BC,KAAK,GAAGwB,YAAY,CAACxB,KAAK;IAC5B,IAAIyB,qBAAqB,GAAGpB,YAAY,CAACe,OAAO,CAACM,qBAAqB,CAAC,CAAC;MACtEC,KAAK,GAAGF,qBAAqB,CAACd,CAAC;MAC/BiB,KAAK,GAAGH,qBAAqB,CAACb,CAAC;MAC/BiB,KAAK,GAAGJ,qBAAqB,CAACI,KAAK;MACnCC,MAAM,GAAGL,qBAAqB,CAACK,MAAM;IACvC,IAAIC,qBAAqB,GAAG3B,SAAS,CAACgB,OAAO,CAACM,qBAAqB,CAAC,CAAC;MACnEM,WAAW,GAAGD,qBAAqB,CAACF,KAAK;MACzCI,YAAY,GAAGF,qBAAqB,CAACD,MAAM;IAC7C,IAAII,aAAa,GAAGF,WAAW,GAAG,CAAC;IACnC,IAAIG,aAAa,GAAGF,YAAY,GAAG,CAAC;IACpC,IAAIG,OAAO,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACxC,KAAK,GAAG4B,KAAK,EAAEE,KAAK,CAAC,CAAC,GAAGK,aAAa;IACzE,IAAIM,OAAO,GAAGH,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,GAAG,CAACvC,KAAK,GAAG4B,KAAK,EAAEE,MAAM,CAAC,CAAC,GAAGK,aAAa;IAC1E,IAAId,UAAU,GAAG;MACfV,CAAC,EAAEyB,OAAO;MACVxB,CAAC,EAAEN,SAAS,KAAK,GAAG,GAAGQ,WAAW,CAACF,CAAC,GAAG4B;IACzC,CAAC;;IAED;IACA,IAAIR,WAAW,KAAK,CAAC,IAAIC,YAAY,KAAK,CAAC,IAAID,WAAW,KAAKC,YAAY,EAAE;MAC3E,OAAO,KAAK;IACd;IACAlB,cAAc,CAACM,UAAU,CAAC;IAC1Bd,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACc,UAAU,CAAC;EACtF,CAAC;EACD,IAAIoB,UAAU,GAAG,SAASA,UAAUA,CAACvD,CAAC,EAAE;IACtCA,CAAC,CAACwD,cAAc,CAAC,CAAC;IAClBnB,YAAY,CAACrC,CAAC,CAAC;EACjB,CAAC;EACD,IAAIyD,UAAU,GAAG,SAASA,UAAUA,CAACzD,CAAC,EAAE;IACtCA,CAAC,CAACwD,cAAc,CAAC,CAAC;IAClBxB,OAAO,CAACE,OAAO,CAACD,IAAI,GAAG,KAAK;IAC5B7B,QAAQ,CAACgC,mBAAmB,CAAC,WAAW,EAAEN,YAAY,CAACI,OAAO,CAAC;IAC/D9B,QAAQ,CAACgC,mBAAmB,CAAC,SAAS,EAAEL,UAAU,CAACG,OAAO,CAAC;IAC3D9B,QAAQ,CAACgC,mBAAmB,CAAC,WAAW,EAAEN,YAAY,CAACI,OAAO,CAAC;IAC/D9B,QAAQ,CAACgC,mBAAmB,CAAC,UAAU,EAAEL,UAAU,CAACG,OAAO,CAAC;IAC5DJ,YAAY,CAACI,OAAO,GAAG,IAAI;IAC3BH,UAAU,CAACG,OAAO,GAAG,IAAI;EAC3B,CAAC;EACD,IAAIwB,WAAW,GAAG,SAASA,WAAWA,CAAC1D,CAAC,EAAE;IACxCqC,YAAY,CAACrC,CAAC,CAAC;IACfgC,OAAO,CAACE,OAAO,CAACD,IAAI,GAAG,IAAI;IAC3B7B,QAAQ,CAACuD,gBAAgB,CAAC,WAAW,EAAEJ,UAAU,CAAC;IAClDnD,QAAQ,CAACuD,gBAAgB,CAAC,SAAS,EAAEF,UAAU,CAAC;IAChDrD,QAAQ,CAACuD,gBAAgB,CAAC,WAAW,EAAEJ,UAAU,CAAC;IAClDnD,QAAQ,CAACuD,gBAAgB,CAAC,UAAU,EAAEF,UAAU,CAAC;IACjD3B,YAAY,CAACI,OAAO,GAAGqB,UAAU;IACjCxB,UAAU,CAACG,OAAO,GAAGuB,UAAU;EACjC,CAAC;EACD,OAAO,CAAC7B,WAAW,EAAE8B,WAAW,CAAC;AACnC;AACA,eAAe3C,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}